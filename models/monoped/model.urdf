<?xml version="1.0"?>
<robot name="hexapod">

    <link name="base">
        <visual>
            <geometry>
                <mesh filename="package://hexapod/models/hexapod/meshes/base/base.stl" scale="0.8 0.8 1.8"/>
            </geometry>
            <origin xyz="0.0 0 0"/>
            <material name="red">
                <color rgba="0.5 0 0.2 1"/>
            </material>
        </visual>
        <inertial>
            <mass value="2"/>
            <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.17" iyz="0.0" izz="0.25"/>
        </inertial>    
        <collision>
            <geometry>
                <mesh filename="package://hexapod/models/hexapod/meshes/base/base.stl" scale="0.8 0.8 1.8"/>
            <origin xyz="0.0 0.0 0"/>
            </geometry>
        </collision>
    </link>
    <gazebo reference="base">
        <kp>1000.0</kp>
        <kd>1000.0</kd>
        <mu1>0.5</mu1>
        <mu2>0.5</mu2>
        <material>Gazebo/Red</material>
    </gazebo>

    <link name="hipassembly_6">
	    <visual>
	      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
	      <geometry>
	            <mesh filename="package://hexapod/models/hexapod/meshes/leg/assembler.stl" scale="1 1 1"/>
	      </geometry>
            <material name="green">
                <color rgba="0 0.6 0 1"/>
            </material>
	    </visual> 
        <collision>
            <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
	        <geometry>
	            <mesh filename="package://hexapod/models/hexapod/meshes/leg/assembler.stl" scale="1 1 1"/>
	        </geometry> 
        </collision>   
        <inertial>
            <mass value="2"/>
            <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.17" iyz="0.0" izz="0.25"/>
        </inertial>          
    </link>

    <gazebo reference="hipassembly_6">
        <kp>1000.0</kp>
        <kd>1000.0</kd>
        <mu1>0.5</mu1>
        <mu2>0.5</mu2>
        <material>Gazebo/Green</material>
    </gazebo>

    <link name="upperleg_6">
	    <visual>
	      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
	      <geometry>
	            <mesh filename="package://hexapod/models/hexapod/meshes/leg/upperleg.stl" scale="0.8 1 1"/>
	      </geometry>
            <material name="orange">
                <color rgba="0.8 0.5 0 1"/>
            </material>	  
	    </visual>
        <collision>
            <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
	        <geometry>
	            <mesh filename="package://hexapod/models/hexapod/meshes/leg/upperleg.stl" scale="0.8 1 1"/>
	        </geometry> 
        </collision>   
        <inertial>
            <mass value="2"/>
            <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.17" iyz="0.0" izz="0.25"/>
        </inertial>   
    </link>

    <gazebo reference="upperleg_6">
        <kp>1000.0</kp>
        <kd>1000.0</kd>
        <mu1>0.5</mu1>
        <mu2>0.5</mu2>
        <material>Gazebo/Orange</material>
    </gazebo>


    <link name="lowerleg_6">
	    <visual>
          <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
	      <geometry>
	            <mesh filename="package://hexapod/models/hexapod/meshes/leg/lowerleg.stl" scale="1.4 1 1"/>
	      </geometry>
            <material name="blue">
                <color rgba="0 0 0.5 1"/>
            </material>	  
        </visual> 
        <collision>
            <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
	        <geometry>
	            <mesh filename="package://hexapod/models/hexapod/meshes/leg/lowerleg.stl" scale="1.4 1 1"/>
	        </geometry> 
        </collision>   
        <inertial>
            <mass value="2"/>
            <inertia ixx="0.04" ixy="0.0" ixz="0.0" iyy="0.17" iyz="0.0" izz="0.25"/>
        </inertial>       
    </link>
    <gazebo reference="lowerleg_6">
        <kp>100.0</kp>
        <kd>1000.0</kd>
        <mu1>0.5</mu1>
        <mu2>0.5</mu2>
        <material>Gazebo/Blue</material>
    </gazebo>
 
    <joint name="haa_joint_6" type="revolute">
        <origin xyz="-0.65 -0.45 0.03" rpy="0 0 0"/>
        <parent link="base"/>
        <child  link="hipassembly_6"/>
        <limit effort="200" lower="-3.847" upper="-0.707" velocity="1.0"/>
        <axis xyz="0 0 1"/>
        <dynamics damping="60.0" friction="4.0"/>
    </joint>

    <joint name="hfe_joint_6" type="revolute">
        <origin xyz="0.08 0.0 0.0" rpy="1.57 0.0 0.0"/>
        <parent link="hipassembly_6"/>
        <child  link="upperleg_6"/>
        <limit effort="200" lower="0.3" upper="1.4" velocity="1.0"/>
        <axis xyz="0 0 1"/>
        <dynamics damping="60.0" friction="4.0"/>
    </joint>

    <joint name="kfe_joint_6" type="revolute">
        <origin xyz="0.27 0.0 0.0" rpy="0.0 0.0 0.0"/>
        <parent link="upperleg_6"/>
        <child  link="lowerleg_6"/>
        <limit effort="200" lower="-2.27" upper="-1.57" velocity="1.0"/>
        <axis xyz="0 0 1"/>
        <dynamics damping="60.0" friction="4.0"/>
    </joint>

    <gazebo>
        <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">
            <robot_sim_type>gazebo_ros2_control/GazeboSystem</robot_sim_type>
            <parameters>/home/zarquon/Project/Hexapod/src/hex/config/controller_configuration.yaml</parameters>
        </plugin>
    </gazebo>

    <ros2_control name="GazeboSystem" type="system">
        <hardware>
            <plugin>gazebo_ros2_control/GazeboSystem</plugin>
        </hardware> 

        <joint name="haa_joint_6">
            <command_interface name="position">
                <param name="min">-3.8</param>
                <param name="max">-0.707</param>
            </command_interface>
            <state_interface name="position"/>
            <state_interface name="velocity"/>
            <state_interface name="effort"/>
        </joint>

        <joint name="hfe_joint_6">
            <command_interface name="position">
                <param name="min">0.3</param>
                <param name="max">1.4</param>
            </command_interface>
            <state_interface name="position"/>
            <state_interface name="velocity"/>
            <state_interface name="effort"/>
        </joint>

        <joint name="kfe_joint_6">
            <command_interface name="position">
                <param name="min">-2.27</param>
                <param name="max">-1.57</param>
            </command_interface>
            <state_interface name="position"/>
            <state_interface name="velocity"/>
            <state_interface name="effort"/>
        </joint>
    </ros2_control>




</robot>